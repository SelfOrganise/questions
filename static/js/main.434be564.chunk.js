(this.webpackJsonpquestions=this.webpackJsonpquestions||[]).push([[0],{171:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var c,i,a=n(0),r=n.n(a),s=n(18),o=n.n(s),j=(n(171),n(30)),l=n(267),d=n(266),u=n(258),b=n(154),O=n(257),h=n(263),x=n(264),g=n(261),m=n(251),p=n(265),v=n(153),f=n.n(v),q=n(67),y=n.n(q),w=n(27),A=n(97),C=n(36),Q=n(63),S=n(152),_=n.n(S),k=n(155),E=n(253),N=n(255),R=n(249),T=n(252),B=n(254),L=n(247),P=n(250),U=n(10),W=Object(j.gql)(c||(c=Object(Q.a)(["\n  mutation addQuestion($id: Int!) {\n    deleteQuestion(id: $id)\n  }\n"])));function I(e){var t=e.question,n=Object(j.useMutation)(W),c=Object(C.a)(n,2),i=c[0],r=c[1].loading,s=Object(a.useCallback)(Object(A.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{id:t.id},update:function(e,n){if(!0===n.data.deleteQuestion){var c=e.readQuery({query:M})||[];e.writeQuery({query:M,data:{questions:Object(w.a)(c.questions.filter((function(e){return e.id!==t.id})))}})}}});case 2:case"end":return e.stop()}}),e)}))),[i,t.id]);return Object(U.jsxs)(L.a,{children:[Object(U.jsx)(R.a,{component:"th",scope:"row",children:t.id}),Object(U.jsx)(R.a,{align:"right",children:t.content}),Object(U.jsx)(R.a,{align:"right",children:t.createdAtUtc}),Object(U.jsx)(R.a,{align:"right",children:r?Object(U.jsx)(P.a,{size:"1em"}):Object(U.jsx)(m.a,{onClick:s,children:"Delete"})})]})}var D,M=Object(j.gql)(i||(i=Object(Q.a)(["\n  query {\n    questions {\n      id,\n      content,\n      createdBy,\n      createdAtUtc\n    }\n  }\n"])));function H(){var e,t=Object(j.useQuery)(M),n=t.data,c=t.error;return t.loading?Object(U.jsx)("span",{children:"'Loading questions'"}):c?Object(U.jsx)("span",{children:"'Error loading questions'"}):(null===(e=n.questions)||void 0===e?void 0:e.length)<=0?null:Object(U.jsx)(T.a,{component:k.a,children:Object(U.jsxs)(E.a,{children:[Object(U.jsx)(B.a,{children:Object(U.jsxs)(L.a,{children:[Object(U.jsx)(R.a,{align:"right",children:"Id"}),Object(U.jsx)(R.a,{align:"right",children:"Question"}),Object(U.jsx)(R.a,{align:"right",children:"Created at"}),Object(U.jsx)(R.a,{align:"right",children:"Actions"})]})}),Object(U.jsx)(N.a,{children:n.questions.map((function(e){return Object(U.jsx)(I,{question:e},e.id)}))})]})})}var J=Object(j.gql)(D||(D=Object(Q.a)(["\n  mutation addQuestion($content: String!) {\n    addQuestion(content: $content) {\n      id\n    }\n  }\n"])));function K(){var e=Object(a.useState)(""),t=Object(C.a)(e,2),n=t[0],c=t[1],i=Object(j.useMutation)(J),r=Object(C.a)(i,2),s=r[0],o=r[1].error,d=Object(a.useCallback)(Object(A.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({variables:{content:n},optimisticResponse:{addQuestion:{__type:"Question",id:-1,content:n,createdBy:-1,createdAtUtc:"unknown"}},update:function(e,t){var n=t.data,c=e.readQuery({query:M})||[];e.writeQuery({query:M,data:{questions:[].concat(Object(w.a)(c.questions),[n.addQuestion])}})}});case 2:c("");case 3:case"end":return e.stop()}}),e)}))),[s,n,c]);return Object(U.jsxs)(l.a,{children:[Object(U.jsx)(_.a,{value:n,onChange:function(e){return c(e.target.value)}}),Object(U.jsx)(m.a,{color:"primary",onClick:d,children:"Add question"}),Object(U.jsx)("span",{children:o?o.message:""})]})}var $=n(259),z=n(262),F=n(260),G=Object(u.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function V(){var e=G(),t=Object(U.jsx)("span",{className:e.bullet,children:"\u2022"});return Object(U.jsxs)($.a,{className:e.root,children:[Object(U.jsxs)(F.a,{children:[Object(U.jsx)(g.a,{className:e.title,color:"textSecondary",gutterBottom:!0,children:"Word of the Day"}),Object(U.jsxs)(g.a,{variant:"h5",component:"h2",children:["be",t,"nev",t,"o",t,"lent"]}),Object(U.jsx)(g.a,{className:e.pos,color:"textSecondary",children:"adjective"}),Object(U.jsxs)(g.a,{variant:"body2",component:"p",children:["well meaning and kindly.",Object(U.jsx)("br",{}),'"a benevolent smile"']})]}),Object(U.jsx)(z.a,{children:Object(U.jsx)(m.a,{size:"small",children:"Learn More"})})]})}var X=n(117),Y=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Z=new j.ApolloClient({uri:Object({NODE_ENV:"production",PUBLIC_URL:"/questions",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,cache:new j.InMemoryCache}),ee=Object(b.a)();function te(){var e=Y(),t=Object(X.b)(),n=t.logout,c=t.loginWithRedirect,i=t.isAuthenticated,a=t.user;return console.log({isAuthenticated:i}),Object(U.jsxs)(O.a,{theme:ee,children:[Object(U.jsx)(h.a,{position:"static",children:Object(U.jsxs)(x.a,{children:[Object(U.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(U.jsx)(f.a,{})}),Object(U.jsx)(g.a,{variant:"h6",className:e.title,children:"Questions"}),i?Object(U.jsx)(m.a,{color:"inherit",onClick:function(){return n({returnTo:window.location.origin})},children:"Logout"}):Object(U.jsx)(m.a,{color:"inherit",onClick:function(){return c()},children:"Login"})]})}),Object(U.jsx)(d.a,{maxWidth:"sm",className:"App",children:Object(U.jsxs)(l.a,{padding:5,children:[Object(U.jsx)(V,{}),i?a.email:"unauthenticated",Object(U.jsx)(K,{}),Object(U.jsx)(H,{})]})})]})}var ne=function(){return Object(U.jsx)(X.a,{domain:"boiculese.auth0.com",clientId:"9umXUJ235FysjsLWAvJKHE43jN7toi4P",redirectUri:window.location.origin,children:Object(U.jsx)(j.ApolloProvider,{client:Z,children:Object(U.jsx)(te,{})})})};o.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(ne,{})}),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.434be564.chunk.js.map